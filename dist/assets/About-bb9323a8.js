import{F as h,r as o,t as x,w as t,S as b,H as g,aI as y,K as i,Q as j,I as S,aJ as v}from"./index-1dc67d24.js";import{U as E}from"./UniversalBody-2822899b.js";import{U as I}from"./LoadingRefresh-873d05e2.js";import{R}from"./ReactQuillComponent-7b248658.js";import"./index-082b27f3.js";const T={title:"About"};function B(){const{pageData:a}=h(e=>e.home),f=o.useRef(),[m,s]=o.useState(!1),[n,u]=o.useState({status:"",message:"",type:""}),r=x(),[l,c]=o.useState({content:a==null?void 0:a.filter(e=>e.name==="about")[0].content}),p=()=>{S("/page").then(e=>{r(v(e)),r(i(!1))})},d=()=>{r(i(!0)),j(`/page/${a.filter(e=>e.name==="about")[0]._id}`,l).then(e=>{e?(p(),c({content:e.content}),scrollTo({top:0,left:0,behavior:"smooth"}),u({status:"",message:"Информация обновлена!",type:"success"}),s(!0),setTimeout(()=>{s(!1)},5e3)):(r(i(!1)),u({status:"Error Code 1234",message:"Что-то пошло не так!",type:"error"}),s(!0),setTimeout(()=>s(!1),3e3),c({}))})};return o.useEffect(()=>{scrollTo({top:0,left:0,behavior:"smooth"})},[]),t.jsxs("div",{className:"about_section",children:[t.jsx(I,{data:T}),t.jsxs(E,{children:[m&&t.jsx(b,{direction:"vertical",style:{minWidth:"25%",position:"fixed",zIndex:"1",left:"50%",transform:"translateX(-40%)",top:"1%"},children:t.jsx(g,{message:`${n.status}`,description:`${n.message}`,type:n.type,showIcon:!0,closable:!0,onClose:()=>{s(!1)}})}),t.jsx(R,{body:l,reactRef:f,setBody:c}),t.jsx(y,{onClick:d,children:"Submit"})]})]})}export{B as default};
