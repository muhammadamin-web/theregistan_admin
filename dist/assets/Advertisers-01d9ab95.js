import{F as x,r as o,t as g,w as s,S as v,H as y,aI as j,K as c,Q as S,I as b,aJ as E}from"./index-1dc67d24.js";import{U as R}from"./UniversalBody-2822899b.js";import{U as T}from"./LoadingRefresh-873d05e2.js";import{R as A}from"./ReactQuillComponent-7b248658.js";import"./index-082b27f3.js";const F={title:"Advertisers"};function w(){var m;const{pageData:r}=x(e=>e.home),p=o.useRef(),[d,a]=o.useState(!1),[t,l]=o.useState({status:"",message:"",type:""}),n=g(),[u,i]=o.useState({content:(m=r==null?void 0:r.filter(e=>e.name==="ads")[0])==null?void 0:m.content}),f=()=>{b("/page").then(e=>{n(E(e)),n(c(!1))})},h=()=>{n(c(!0)),S(`/page/${r.filter(e=>e.name==="ads")[0]._id}`,u).then(e=>{e?(f(),i({content:e.content}),scrollTo({top:0,left:0,behavior:"smooth"}),l({status:"",message:"Информация обновлена!",type:"success"}),a(!0),setTimeout(()=>{a(!1)},5e3)):(n(c(!1)),l({status:"Error Code 1234",message:"Что-то пошло не так!",type:"error"}),a(!0),setTimeout(()=>a(!1),3e3),i({}))})};return o.useEffect(()=>{scrollTo({top:0,left:0,behavior:"smooth"})},[]),s.jsxs("div",{className:"about_section",children:[s.jsx(T,{data:F}),s.jsxs(R,{children:[d&&s.jsx(v,{direction:"vertical",style:{minWidth:"25%",position:"fixed",zIndex:"1",left:"50%",transform:"translateX(-40%)",top:"1%"},children:s.jsx(y,{message:`${t==null?void 0:t.status}`,description:`${t==null?void 0:t.message}`,type:t==null?void 0:t.type,showIcon:!0,closable:!0,onClose:()=>{a(!1)}})}),s.jsx(A,{body:u,reactRef:p,setBody:i}),s.jsx(j,{onClick:h,children:"Submit"})]})]})}export{w as default};
