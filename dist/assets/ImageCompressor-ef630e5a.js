const w=(a,i,r)=>{if(a.target.files[0]){const d=a.target.files[0],n=URL.createObjectURL(d);i(n);const e=new Image;e.src=n,e.onload=()=>{const t=document.createElement("canvas"),g=t.getContext("2d");t.width=e.naturalWidth,t.height=e.naturalHeight,g.drawImage(e,0,0),t.toBlob(o=>{const s=new FileReader;s.readAsDataURL(o),s.addEventListener("load",()=>{const l=new File([o],`${Date.now()}.webp`,{type:"image/webp"}),c=new FormData;c.append("image",l),r(c)})},"image/webp",.9)}}};export{w as p};
